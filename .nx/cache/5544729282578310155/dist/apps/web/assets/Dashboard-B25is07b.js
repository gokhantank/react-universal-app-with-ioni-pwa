import{j as s,r}from"./index-BI_fKif5.js";import{t as b,T as j}from"./team-data-DpiXRmlN.js";const x=({className:l="",children:d})=>s.jsx("div",{className:`card ${l}`,children:d}),p=({score:l})=>{const d=r.useMemo(()=>{const t=(l+100)/200*180-90;return Math.max(-90,Math.min(90,t))},[l]);return s.jsxs("div",{className:"gauge",children:[s.jsx("div",{className:"gauge__container",children:s.jsx("div",{className:"gauge__needle",style:{"--rotation":`${d}deg`}})}),s.jsxs("div",{className:"gauge__score",children:[s.jsx("div",{className:"gauge__score-value",children:l}),s.jsx("div",{className:"gauge__score-label",children:"VIBE SCORE"})]}),s.jsxs("div",{className:"gauge__emoji",children:[s.jsx("span",{children:"â˜¹ï¸"}),s.jsx("span",{children:"ðŸ˜ƒ"})]})]})},u=({label:l,value:d,color:t})=>{const i=r.useMemo(()=>(d+100)/200*100,[d]);return s.jsxs("div",{className:"progress-bar",children:[s.jsx("div",{className:"progress-bar__header",children:s.jsxs("span",{className:"progress-bar__header-label",children:[l," (?)"]})}),s.jsxs("div",{className:"progress-bar__track",children:[s.jsx("div",{className:"progress-bar__fill",style:{"--width":`${i}%`,"--fill-color":t}}),s.jsx("div",{className:"progress-bar__indicator",style:{"--indicator-left":`${i}%`}})]}),s.jsxs("div",{className:"progress-bar__labels",children:[s.jsx("span",{className:"progress-bar__labels-text",children:"-100"}),s.jsx("span",{className:"progress-bar__labels-text",children:"100"})]})]})},v=[{id:"photo",icon:"ðŸ“·",label:"Photo"},{id:"shoutout",icon:"â­",label:"Shoutout"},{id:"poll",icon:"ðŸ“‹",label:"Poll"},{id:"suggest",icon:"ðŸŽ¤",label:"Suggest"},{id:"files",icon:"ðŸ“",label:"Files"}],N=["Vibe","Connect","Perform"],g=({visible:l,onClose:d})=>{const[t,i]=r.useState("Vibe"),[n,h]=r.useState("shoutout"),[o,m]=r.useState(""),[c,_]=r.useState("");if(!l)return null;const a=()=>{console.log({tab:t,media:n,user:o,impact:c}),d()};return s.jsxs("div",{className:"modal",onClick:d,children:[s.jsx("div",{className:"modal__overlay"}),s.jsxs("div",{className:"modal__content",onClick:e=>e.stopPropagation(),children:[s.jsxs("div",{className:"modal__header",children:[s.jsx("div",{className:"modal__header-tabs",children:N.map(e=>s.jsx("button",{onClick:()=>i(e),className:`modal__header-tab ${t===e?"active":""}`,children:e},e))}),s.jsx("button",{onClick:d,className:"modal__header-close",children:"âœ•"})]}),s.jsxs("div",{className:"modal__body",children:[s.jsxs("div",{className:"modal__section",children:[s.jsx("div",{className:"modal__section-label",children:"Media"}),s.jsx("div",{className:"modal__section-icons",children:v.map(e=>s.jsx("button",{onClick:()=>h(e.id),className:`modal__section-icon ${n===e.id?"active":""}`,children:e.icon},e.id))})]}),s.jsx("div",{className:"modal__section",children:s.jsx("div",{className:"modal__section-buttons",children:["Media","Shoutout","Poll","Suggest","Files"].map(e=>s.jsx("button",{className:"modal__section-button",children:e},e))})}),s.jsx("input",{type:"text",className:"modal__input",placeholder:"Search for users here",value:o,onChange:e=>m(e.target.value)}),s.jsx("button",{className:"modal__button",children:"Select related company values"}),s.jsx("textarea",{className:"modal__textarea",placeholder:"What was the impact (in a few sentences)?",rows:4,value:c,onChange:e=>_(e.target.value)}),s.jsx("button",{className:"modal__button",children:"Select a user/team first"}),s.jsx("button",{className:"modal__submit",onClick:a,children:"Give shoutout"})]})]})]})},w=()=>{const[l,d]=r.useState("Engineering Product"),[t,i]=r.useState(!1),[n,h]=r.useState(!1),[o,m]=r.useState(!1),c=r.useMemo(()=>b[l],[l]);r.useEffect(()=>{const a=()=>{m(window.innerWidth>800)};return a(),window.addEventListener("resize",a),()=>{window.removeEventListener("resize",a)}},[]),r.useEffect(()=>{if(!t)return;const a=e=>{e.target.closest(".team-dropdown-container")||i(!1)};return document.addEventListener("click",a),()=>{document.removeEventListener("click",a)}},[t]);const _=a=>{d(a),i(!1)};return s.jsxs("div",{className:"dashboard",children:[s.jsxs("div",{className:"dashboard__container",children:[s.jsxs("div",{className:"dashboard__header",children:[s.jsx("div",{className:"dashboard__header-title",children:s.jsx("h1",{children:"Insights dashboard"})}),s.jsx("button",{className:"dashboard__header-button",onClick:()=>h(!0),children:"Take action"})]}),s.jsxs("div",{className:"dashboard__filters",children:[s.jsxs("div",{className:"dashboard__filters-dropdown team-dropdown-container",children:[s.jsx("button",{className:"dashboard__filters-dropdown-button",onClick:()=>i(!t),children:s.jsxs("span",{children:[l," â–¼"]})}),t&&s.jsx("div",{className:"dashboard__filters-dropdown-menu",children:j.map(a=>s.jsx("button",{onClick:()=>_(a),children:s.jsx("span",{children:a})},a))})]}),s.jsx("div",{className:"dashboard__filters-period",children:s.jsx("span",{children:"Last 30 days â–¼"})})]}),s.jsxs("div",{className:`dashboard__top-section ${o?"row":"column"}`,children:[s.jsx(x,{className:"dashboard__gauge-card",children:s.jsx(p,{score:c.vibeScore})}),s.jsxs(x,{className:`dashboard__chart ${o?"dashboard__chart--large":""}`,children:[s.jsxs("div",{className:"dashboard__chart-header",children:[s.jsx("h2",{children:"Score history"}),s.jsx("span",{children:"Last 9 months"})]}),s.jsxs("div",{className:"dashboard__chart-graph",children:[s.jsx("div",{className:"dashboard__chart-graph-line"}),s.jsx("div",{className:"dashboard__chart-graph-point",style:{left:"10%",top:"60%"}}),s.jsx("div",{className:"dashboard__chart-graph-point",style:{left:"30%",top:"40%"}}),s.jsx("div",{className:"dashboard__chart-graph-point",style:{left:"50%",top:"70%"}}),s.jsx("div",{className:"dashboard__chart-graph-point",style:{left:"70%",top:"30%"}}),s.jsx("div",{className:"dashboard__chart-graph-point",style:{left:"90%",top:"50%"}})]})]})]}),s.jsxs("div",{className:"dashboard__kpis",children:[s.jsxs("div",{className:"dashboard__kpis-item",children:[s.jsx("span",{className:"dashboard__kpis-item-emoji",children:"â˜¹ï¸"}),s.jsx("p",{className:"dashboard__kpis-item-text",children:"Your overall team Vibe is"}),s.jsx("p",{className:"dashboard__kpis-item-text bold",children:c.overallVibe})]}),s.jsxs("div",{className:"dashboard__kpis-item",children:[s.jsx("div",{className:"dashboard__kpis-item-circle yellow",children:s.jsxs("span",{children:[c.participation,"%"]})}),s.jsx("span",{className:"dashboard__kpis-item-label",children:"Participation"})]}),s.jsxs("div",{className:"dashboard__kpis-item",children:[s.jsx("div",{className:"dashboard__kpis-item-circle blue",children:s.jsxs("span",{children:[c.monthlyActiveUsers,"%"]})}),s.jsx("span",{className:"dashboard__kpis-item-label",children:"Monthly active users"})]}),s.jsxs("div",{className:"dashboard__kpis-item",children:[s.jsx("div",{className:"dashboard__kpis-item-icon",children:s.jsx("span",{children:"ðŸ‘¥"})}),s.jsx("span",{className:"dashboard__kpis-item-link",children:"View team details"})]})]}),s.jsx("h2",{className:"dashboard__metrics-title",children:"Key performance metrics"}),s.jsx("div",{className:"dashboard__metrics-grid",children:c.kpiData.map(a=>s.jsx("div",{className:`dashboard__metrics-grid-item ${o?"large":"full"}`,children:s.jsx(u,{label:a.label,value:a.value,color:a.color})},a.label))})]}),s.jsx(g,{visible:n,onClose:()=>h(!1)})]})};export{w as default};
